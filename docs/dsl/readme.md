# letgo DSL 设计

## 功能模块

物料
画布
组件配置
状态管理

## DSL 模块

DSL 模块的功能分三种：读、写、AI Agent 之间的通信。

写：生写修改 letgo DSL。
读：从 letgo 当前编辑上下文读取信息，附属生成 【写 DSL】和逻辑，例如读取当前选中组件信息、可用逻辑、可用第三方库等。

### DSL 解析执行

负责解析执行 AI 的输出。AI 输出只有 API 名称和参数，一些上下文需要 DSL 解析执行的时候进行记录，比如记录当前选中组件。

## AI 解决问题的过程

### 组件

1. 从当前上下文中找到目标组件
2. 执行修改操作
   1. 插入子节点
   2. 修改节点属性
3. 保存更改

### 状态

1. 新增一个 xxx 函数
2. 修改状态内容（初始化数据、逻辑等）

### 事件

1. 新增一个事件
2. 绑定事件内容

## 任务拆解

例如：给按钮绑定一个导出方法，导出接口为 xxxx。

1. 找有没有导出函数
2. 如果有，直接绑定
3. 如果没有，则新增一个导出函数，再绑定
